{"ast":null,"code":"var _jsxFileName = \"/Users/trananhtuan/Documents/datsan247/Frontend/src/components/bookingTable.jsx\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BookingTable = ({\n  courts,\n  bookingData,\n  toggleBookingStatus,\n  times,\n  slotCount,\n  currentUserId\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-4 bg-green-100 p-4 rounded-md overflow-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table-fixed w-full\",\n      style: {\n        borderCollapse: \"collapse\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"p-3 bg-green-100 text-center font-bold text-black\",\n            style: {\n              width: \"100px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 9,\n            columnNumber: 13\n          }, this), Array.from({\n            length: slotCount\n          }, (_, i) => {\n            const startHour = times[i];\n            const endHour = times[i + 1];\n            return /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"bg-green-100 text-black relative\",\n              style: {\n                width: \"80px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute bottom-0 bg-yellow-500\",\n                style: {\n                  left: \"-0.5px\",\n                  width: \"2px\",\n                  height: \"6px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 15,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute font-bold text-xs\",\n                style: {\n                  left: 0,\n                  top: \"50%\",\n                  transform: \"translate(-50%, -50%)\",\n                  whiteSpace: \"nowrap\"\n                },\n                children: [startHour, \":00\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 16,\n                columnNumber: 19\n              }, this), i === slotCount - 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute bottom-0 bg-yellow-500\",\n                  style: {\n                    right: \"-0.5px\",\n                    width: \"2px\",\n                    height: \"5px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 26,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute font-bold text-xs\",\n                  style: {\n                    right: 0,\n                    top: \"50%\",\n                    transform: \"translate(50%, -50%)\",\n                    whiteSpace: \"nowrap\"\n                  },\n                  children: [endHour, \":00\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 27,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 14,\n              columnNumber: 17\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 8,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 7,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: courts.map((court, rowIndex) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          style: {\n            border: \"1px solid black\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"bg-green-200 text-black text-center font-bold\",\n            style: {\n              width: \"100px\",\n              padding: \"4px\"\n            },\n            children: court.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 15\n          }, this), Array.from({\n            length: slotCount\n          }, (_, colIndex) => {\n            const rawStatus = bookingData && bookingData[court._id] ? bookingData[court._id][colIndex] : \"trống\";\n            let status;\n            if (typeof rawStatus === \"object\" && rawStatus !== null) {\n              status = rawStatus.userId === currentUserId ? \"myPending\" : \"pending\";\n            } else {\n              status = rawStatus;\n            }\n            // Chỉ cho phép thao tác nếu ô trống hoặc myPending\n            const clickable = status === \"trống\" || status === \"myPending\";\n\n            // Đặt màu nền dựa theo trạng thái\n            const bgColor = status === \"trống\" ? \"bg-white\" : status === \"pending\" ? \"bg-yellow-500\" : status === \"myPending\" ? \"bg-green-500\" : status === \"đã đặt\" ? \"bg-red-500\" : \"bg-gray-500\";\n            const textColor = status === \"trống\" ? \"text-black\" : status === \"pending\" ? \"text-black\" : status === \"myPending\" ? \"text-white\" : status === \"đã đặt\" ? \"text-white\" : \"text-white\";\n            return /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"relative\",\n              style: {\n                width: \"80px\",\n                height: \"40px\",\n                padding: \"0\",\n                border: \"1px solid black\",\n                pointerEvents: clickable ? \"auto\" : \"none\",\n                cursor: clickable ? \"pointer\" : \"default\"\n              },\n              onClick: () => {\n                if (clickable) {\n                  toggleBookingStatus(rowIndex, colIndex);\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `h-full flex items-center justify-center ${bgColor} ${textColor}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 21\n              }, this)\n            }, colIndex, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 19\n            }, this);\n          })]\n        }, rowIndex, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 5\n  }, this);\n};\n_c = BookingTable;\nexport default BookingTable;\nvar _c;\n$RefreshReg$(_c, \"BookingTable\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","Fragment","_Fragment","BookingTable","courts","bookingData","toggleBookingStatus","times","slotCount","currentUserId","className","children","style","borderCollapse","width","fileName","_jsxFileName","lineNumber","columnNumber","Array","from","length","_","i","startHour","endHour","left","height","top","transform","whiteSpace","right","map","court","rowIndex","border","padding","name","colIndex","rawStatus","_id","status","userId","clickable","bgColor","textColor","pointerEvents","cursor","onClick","_c","$RefreshReg$"],"sources":["/Users/trananhtuan/Documents/datsan247/Frontend/src/components/bookingTable.jsx"],"sourcesContent":["import React from \"react\";\n\nconst BookingTable = ({ courts, bookingData, toggleBookingStatus, times, slotCount, currentUserId }) => {\n  return (\n    <div className=\"mt-4 bg-green-100 p-4 rounded-md overflow-auto\">\n      <table className=\"table-fixed w-full\" style={{ borderCollapse: \"collapse\" }}>\n        <thead>\n          <tr>  \n            <th className=\"p-3 bg-green-100 text-center font-bold text-black\" style={{ width: \"100px\" }}></th>\n            {Array.from({ length: slotCount }, (_, i) => {\n              const startHour = times[i];\n              const endHour = times[i + 1];\n              return (\n                <th key={i} className=\"bg-green-100 text-black relative\" style={{ width: \"80px\" }}>\n                  <div className=\"absolute bottom-0 bg-yellow-500\" style={{ left: \"-0.5px\", width: \"2px\", height: \"6px\" }} />\n                  <div className=\"absolute font-bold text-xs\" style={{\n                    left: 0,\n                    top: \"50%\",\n                    transform: \"translate(-50%, -50%)\",\n                    whiteSpace: \"nowrap\",\n                  }}>\n                    {startHour}:00\n                  </div>\n                  {i === slotCount - 1 && (\n                    <>\n                      <div className=\"absolute bottom-0 bg-yellow-500\" style={{ right: \"-0.5px\", width: \"2px\", height: \"5px\" }} />\n                      <div className=\"absolute font-bold text-xs\" style={{\n                        right: 0,\n                        top: \"50%\",\n                        transform: \"translate(50%, -50%)\",\n                        whiteSpace: \"nowrap\",\n                      }}>\n                        {endHour}:00\n                      </div>\n                    </>\n                  )}\n                </th>\n              );\n            })}\n          </tr>\n        </thead>\n        <tbody>\n          {courts.map((court, rowIndex) => (\n            <tr key={rowIndex} style={{ border: \"1px solid black\" }}>\n              <td className=\"bg-green-200 text-black text-center font-bold\" style={{ width: \"100px\", padding: \"4px\" }}>\n                {court.name}\n              </td>\n              {Array.from({ length: slotCount }, (_, colIndex) => {\n                const rawStatus = bookingData && bookingData[court._id]\n                  ? bookingData[court._id][colIndex]\n                  : \"trống\";\n                let status;\n                if (typeof rawStatus === \"object\" && rawStatus !== null) {\n                  status = rawStatus.userId === currentUserId ? \"myPending\" : \"pending\";\n                } else {\n                  status = rawStatus;\n                }\n                // Chỉ cho phép thao tác nếu ô trống hoặc myPending\n                const clickable = status === \"trống\" || status === \"myPending\";\n                \n                // Đặt màu nền dựa theo trạng thái\n                const bgColor =\n                  status === \"trống\" ? \"bg-white\" :\n                  status === \"pending\" ? \"bg-yellow-500\" :\n                  status === \"myPending\" ? \"bg-green-500\" :\n                  status === \"đã đặt\" ? \"bg-red-500\" : \"bg-gray-500\";\n                const textColor =\n                  status === \"trống\" ? \"text-black\" :\n                  status === \"pending\" ? \"text-black\" :\n                  status === \"myPending\" ? \"text-white\" :\n                  status === \"đã đặt\" ? \"text-white\" : \"text-white\";\n                \n                return (\n                  <td\n                    key={colIndex}\n                    className=\"relative\"\n                    style={{\n                      width: \"80px\",\n                      height: \"40px\",\n                      padding: \"0\",\n                      border: \"1px solid black\",\n                      pointerEvents: clickable ? \"auto\" : \"none\",\n                      cursor: clickable ? \"pointer\" : \"default\"\n                    }}\n                    onClick={() => {\n                      if (clickable) {\n                        toggleBookingStatus(rowIndex, colIndex);\n                      }\n                    }}\n                  >\n                    <div className={`h-full flex items-center justify-center ${bgColor} ${textColor}`}>\n                      {/* Không hiển thị text, chỉ hiển thị màu */}\n                    </div>\n                  </td>\n                );\n              })}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default BookingTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}